Title: daterangepicker初始化以及PHP赋值
Date: 2017-05-18 17:26:49
Modified: 2017-05-18 17:26:49
cat: php
Tags: 
Slug: 4536
Authors: u0mo5 
Summary: 

&lt;script&gt;     &nbsp; &nbsp;function init() {     &nbsp; &nbsp; &nbsp; &nbsp;//定义locale汉化插件 &nbsp; &nbsp;&nbsp;// js配置 &nbsp; &nbsp; startDate: moment().subtract(29, &#39;days&#39;),endDate: moment(),&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; var start=new Date(&#39;&lt;?php echo &quot;2015-04-18&quot;; ?&gt;&#39;);&nbsp; &nbsp; &nbsp; &nbsp; var end=new Date(&#39;&lt;?php echo &quot;2018-07-18&quot;; ?&gt;&#39;);     &nbsp; &nbsp; &nbsp; &nbsp;console.log(end);     &nbsp; &nbsp; &nbsp; &nbsp;var locale = {     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;format&quot;: &#39;YYYY-MM-DD&#39;,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;separator&quot;: &quot;&lt;--&gt;&quot;,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;applyLabel&quot;: &quot;确定&quot;,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;cancelLabel&quot;: &quot;取消&quot;,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;fromLabel&quot;: &quot;起始时间&quot;,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;toLabel&quot;: &quot;结束时间&#39;&quot;,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;customRangeLabel&quot;: &quot;自定义&quot;,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;weekLabel&quot;: &quot;W&quot;,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;daysOfWeek&quot;: [&quot;日&quot;, &quot;一&quot;, &quot;二&quot;, &quot;三&quot;, &quot;四&quot;, &quot;五&quot;, &quot;六&quot;],     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;monthNames&quot;: [&quot;一月&quot;, &quot;二月&quot;, &quot;三月&quot;, &quot;四月&quot;, &quot;五月&quot;, &quot;六月&quot;, &quot;七月&quot;, &quot;八月&quot;, &quot;九月&quot;, &quot;十月&quot;, &quot;十一月&quot;, &quot;十二月&quot;],     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;firstDay&quot;: 1     &nbsp; &nbsp; &nbsp; &nbsp;};     &nbsp; &nbsp; &nbsp; &nbsp;//初始化显示当前时间    // &nbsp; &nbsp; &nbsp; &nbsp;$(&#39;#daterange-btn span&#39;).html(moment().subtract(&#39;hours&#39;, 1).format(&#39;YYYY-MM-DD&#39;) + &#39; - &#39; + moment().format(&#39;YYYY-MM-DD&#39;));     &nbsp; &nbsp; &nbsp; &nbsp;//日期控件初始化     &nbsp; &nbsp; &nbsp; &nbsp;$(&#39;input[name=&quot;daterange&quot;]&#39;).daterangepicker(     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;locale&#39;: locale,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//汉化按钮部分     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ranges: {     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;今日&#39;: [moment(), moment()],     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;昨日&#39;: [moment().subtract(1, &#39;days&#39;), moment().subtract(1, &#39;days&#39;)],     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;最近7日&#39;: [moment().subtract(6, &#39;days&#39;), moment()],     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;最近30日&#39;: [moment().subtract(29, &#39;days&#39;), moment()],     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;本月&#39;: [moment().startOf(&#39;month&#39;), moment().endOf(&#39;month&#39;)],     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;上月&#39;: [moment().subtract(1, &#39;month&#39;).startOf(&#39;month&#39;), moment().subtract(1, &#39;month&#39;).endOf(&#39;month&#39;)]     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;startDate: start,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;endDate: end,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;format: &#39;YYYY-MM-DD&#39;,     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function (start, end) {    // &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$(&#39;#daterange-btn span&#39;).html(start.format(&#39;YYYY-MM-DD&#39;) + &#39; - &#39; + end.format(&#39;YYYY-MM-DD&#39;));     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$(&#39;input[name=&quot;daterange&quot;]&#39;).val(start.toString(&#39;yyyy-MM-dd&#39;) + &#39;&lt;--&gt;&#39; + end.toString(&#39;yyyy-MM-dd&#39;));     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(start);     &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}     &nbsp; &nbsp; &nbsp; &nbsp;);     &nbsp; &nbsp;};     &nbsp; &nbsp;$(document).ready(function() {     &nbsp; &nbsp; &nbsp; &nbsp;init();         &nbsp; &nbsp;});    &lt;/script&gt;
