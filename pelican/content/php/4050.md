Title: LNMP一键安装包 PHP自动升级脚本
Date: 1970-01-01 00:00:00
Modified: 1970-01-01 00:00:00
cat: php
Tags: 
Slug: 4050
Authors: u0mo5 
Summary: 

LNMP一键安装包 PHP自动升级脚本
2011年03月15日 上午 | 作者：VPS侦探


前一段时间完成了lnmp一键安装包的PHP自动升级脚本，今天发布出来，如果想升级PHP版本的lnmp用户可以试用一下。支持目前lnmp的所有版本。
只能有低版本升级到高版本不能降级。可以升级到现有PHP 5.2.14到PHP 5.3.5除5.3.0、5.3.1、5.3.2的几个过渡版本之外的PHP版本，如果PHP发布新的版本，只有安装方式上不发生变化就可以一直使用。注意：升级PHP后eaccelerator、ionCube需要重新安装（不能使用lnmp0.6中的脚本安装！！）。
升级脚本使用方法：
执行：wget http://soft.vpser.net/lnmp/upgrade_php.sh;/bin/bash&nbsp;upgrade_php.sh

注意：版本号一定要输入正确否则将会升级失败！
升级后将会使用/etc/init.d/php-fpm {start|stop|quit|restart|reload|logrotate} 进行管理。
php-fpm配置文件路径为：/usr/local/php/etc/php-fpm.conf
php配置文件路径为：/usr/local/php/etc/php.ini
如果升级到PHP5.3.*，php-fpm的配置文件将会与PHP5.2.* 有所不同，php-fpm可以通过访问量来自动调整php-fpm的进程数，可以通过调整pm.max_children的值来增减php-fpm的最大进程数。
注意：升级到PHP5.3.*后可能部分PHP程序会存在兼容性问题。升级有风险，升级需谨慎，虽然脚本会自动备份配置文件，建议升级前最好还是自己备份一下。
5.4.*版本属测试版暂未测试，生产环境请勿升级到5.4.*。
生产环境请谨慎升级！！！！！
如有问题欢迎到论坛lnmp区反馈。
本文原创，谢绝转载！
