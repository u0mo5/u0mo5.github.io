Title: 身份证号码算法的实现
Date: 1970-01-01 00:00:00
Modified: 1970-01-01 00:00:00
cat: default
Tags: 
Slug: 4218
Authors: u0mo5 
Summary: 

身份证号码算法的实现
 


18位身份证标准在国家质量技术监督局于1999年7月1日实施的gb11643-1999《公民身份号码》中做了明确的规定。gb11643-1999《公民身份号码》为gb11643-1989《社会保障号码》的修订版，其中指出将原标准名称"社会保障号码"更名为"公民身份号码"，另外gb11643-1999《公民身份号码》从实施之日起代替gb11643-1989。
gb11643-1999《公民身份号码》主要内容如下：
一、范围
该标准规定了公民身份号码的编码对象、号码的结构和表现形式，使每个编码对象获得一个唯一的、不变的法定号码。二、编码对象
公民身份号码的编码对象是具有中华人民共和国国籍的公民。三、号码的结构和表示形式
1、号码的结构公民身份号码是特征组合码，由十七位数字本体码和一位校验码组成。排列顺序从左至右依次为：六位数字地址码，八位数字出生日期码，三位数字顺序码和一位数字校验码。 2、地址码表示编码对象常住户口所在县(市、旗、区)的行政区划代码，按gb/t2260的规定执行。 3、出生日期码表示编码对象出生的年、月、日，按gb/t7408的规定执行，年、月、日代码之间不用分隔符。 4、顺序码表示在同一地址码所标识的区域范围内，对同年、同月、同日出生的人编定的顺序号，顺序码的奇数分配给男性，偶数分配给女性。 5、校验码（1）十七位数字本体码加权求和公式 s = sum(ai * wi), i = 0, ... , 16 ，先对前17位数字的权求和 ai:表示第i位置上的身份证号码数字值 wi:表示第i位置上的加权因子 wi: 7 9 10 5 8 4 2 1 6 3 7 9 10 5 8 4 2 （2）计算模 y = mod(s, 11) （3）通过模得到对应的校验码 y: 0 1 2 3 4 5 6 7 8 9 10 校验码: 1 0 x 9 8 7 6 5 4 3 2
四、举例如下：
北京市朝阳区: 11010519491231002x 广东省汕头市: 440524188001010014 15位的身份证编码首先把出生年扩展为4位，简单的就是增加一个19





1
2
3
4
5
6
7
8
9




&lt;?php

    $a="440524188001010014";


    $b=array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2);


    $sum=0;


     

    foreach($b as $k=&gt;$v){


        $sum += $v*$a[$k];


    }


    echo $sum%11;












 
 
五、说明
1.程序可以根据已有的17位数字本体码，获取对应的验证码。2.该程序可以剔除验证码不正确的身份证号码。3.15位的身份证出生年份采用年份后2位，没有最后1位校验码。4.完整的身份证18位，最后一位校验位可能是非数字。我们的一个项目，数据库保存前17位数字，这样对应一些SQL语句（比如inner join）有加速作用的！！！




