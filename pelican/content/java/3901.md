Title: eclipse中从数据库生成hibernate实体类
Date: 1970-01-01 00:00:00
Modified: 1970-01-01 00:00:00
cat: default
Tags: 
Slug: 3901
Authors: u0mo5 
Summary: 

        为什么写这篇BLOG，是因为经常有同事或网友问起我hiberante实体类的生成问题。所以下次再有人问我可以省一堆的话了，其实这个真的是很简单。        现在hibernate在项目中的应用是越来过广泛了。我是从hibernate开始支持注释语法后才开始研究它的。说实在的，原来的hibernate生成的一堆堆的XML文件看着就头晕，还不如自己写的SQL语句来的舒服，所以一直听朋友和同事介绍，可自己一直不屑用之。        可是现在有福了hibernate是JPA最常用的实现之一，而且hiberante自身也对注释语法进行了支持。现在再不用去看那一堆堆的XML映射了。而且eclipse还提供了从数据库直接生成Entity Class的工具。既然可以少写或不写SQL语句那合乐而为为呢。废话少说，开始做起来。

        还是从我们开始项目的第一步说起，新建项目。一般我们用java做web项目都是File-&gt;New-&gt;Dynamic Web Project，如下图：然后会出现新建项目的对话框如图所示然后点击Modify按钮后如图将java persistence选中，这样就为项目增加了JPA的特性，其它特性根据项目需要自行修改。点击OK后。点击几次NEXT（忽略的几步根据自身情况而定）到JPA FACET窗口，如下图：因为咱们用的是hibernate列表中没有所以platform选择Generic,Type选择disable library configuration,因为咱们把需要的jar文件直接放到WEB-INF下的lib目录中就可以了。所以不用配置。再下面的connection这个是必须要配置的要不我们怎么从数据库中生成啊。对不。如果以前配置过连接直接选择就可以了，如果没有配置过点击 add connection.如下图：选择要使用的数据库类型，然后下一步，如下图。其实这个类型也没啥作用只是个生成连接字符串的模版而以。选择已有的驱动，如果没有怎么办，废话，当然是继续新增了。这块不详述了，点击driver后面第一个按钮，根据提示选择对应的jar文件即可。做完上述操作点击Finish.回到JPA Facet窗口。选中Discover annotated classes automatically,把Create orm.xml钓掉。然后点Finish项目就建完了。然后在项目文件夹上右键选择JPA tools-&gt;Generate Entities from Tables.后如下图：选择建好的connection如果没有connect 就connect一下。就会如上图所示了（有时eclipse会有些小问题看不见表，可以重启一下试试，实在不行就直接建个JPA project ，生成实体后再拷到自己的项目中就可以了。）选中要生成实体的表，Next如下图：上面是表之间的关系，如果可以做相应的修改（用的是ecipse 3.5貌似eclipse3.4还没这个功能，eclipse越来越强了），再Next后如下图：（这个好像也是eclipse 3.5才加的）都能看明白吧。按照需要改改就可以了，这里不多啰嗦。再Next后，如下图：这是一些表的每个属性的调整，一般也不用调了。Finish就好了。嘿嘿终于完成了。贴了这么多图，累死我了。不过为了大家能弄明白，还是图比文字更能说明情况，我辛苦点就辛苦点吧。。看看源码中生成的java文件是不是你想要的，具体这些类怎么用。就不是这篇文章要说的问题了。如果大家有需要，我下回接着写。
