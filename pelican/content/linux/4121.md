Title: linux下mysql定时备份数据库
Date: 1970-01-01 00:00:00
Modified: 1970-01-01 00:00:00
cat: mysql
Tags: 
Slug: 4121
Authors: u0mo5 
Summary: 


linux下mysql定时备份数据库
 (2010-10-21 12:40:17)
转载▼




标签： 
杂谈

 



一、用命令实现备份首页进入mysql的bin目录1、备份数据#mysqldump -uusername -ppassword discuz &gt; discuz_2010-04-01.sql这样就把discuz数据库所有的表结构和数据备份到discuz_2010-04-01.sql里了，如果数据量大会占用很大空间，这时可以利用gzip压缩数据，命令如下：#mysqldump -uusername -ppassword discuz | gzip &gt; discuz_2010-04-01.sql.gz系统崩溃，重建系统时，可以这样恢复数据：#mysql -uusername -ppassword discuz &lt; discuz_2010-04-01.sql从压缩文件直接恢复：#gzip &lt; discuz_2010-04-01.sql.gz | mysql -uusername -ppassword discuz二、利用crontab，系统每天定时备份mysql数据库1、创建保存备份文件的路径/mysqldata#mkdir /mysqldata2、创建/usr/sbin/bakmysql文件输入以下内容：mysqldump -umysql -p51uptry uptry | gzip &gt; /mysqldata/uptry`date +%Y-%m-%d_%H%M%S`.sql.gz3、修改文件属性，使其可以执行#chmod +x /usr/sbin/bakmysql4、修改/etc/crontab在下面添加01 3 * * * root /usr/sbin/bakmysql表示每天3点钟执行备份 crontab使用说明5、重新启动crond#/etc/rc.d/init.d/crond restart完成。三、数据的恢复首页进入mysql的bin目录创建数据库#mysqladmin create discuz恢复数据#mysql discuz &lt; /mysqldata/discuz_2010-04-01.sql
