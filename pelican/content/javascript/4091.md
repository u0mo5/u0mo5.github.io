Title: JS实现HTML静态页传值的方法
Date: 1970-01-01 00:00:00
Modified: 1970-01-01 00:00:00
cat: default
Tags: 
Slug: 4091
Authors: u0mo5 
Summary: 

JS实现HTML静态页传值的方法
作者：前端开发-武方博 发布：2012-10-29 分类：javascript 阅读：8,735次

 


 


此处使用JS方式实现静态页之间值传递，其实很简单，废话不多说，见代码，先看index.html页代码，如下：
在body标签之间 加此行代码
&lt;form action=”a.html?d1=123&amp;d2=你好” method=”post” name=”f1″ id=”f1″&gt;&lt;input type=”submit” name=”s1″ id=”s1″ value=”提交”/&gt;&lt;/form&gt;
然后，我我们新建a.html新页，同样在body标签之间加此行代码，如下：
&lt;script type=”text/javascript”&gt;var tmpArr;var QueryString;var URL = document.location.toString();if(URL.lastIndexOf(“?”)!=-1){QueryString= URL.substring(URL.lastIndexOf(“?”)+1,URL.length);tmpArr=QueryString.split(“&amp;”);for (i=0;i&lt;=tmpArr.length – 1;i++) {document.write(“参数为：” + tmpArr[i] + “&lt;br/&gt;”);}}
else{QueryString = “”;}&lt;/script&gt;
 
一些其它的JS静态页传值方法和实例：
一：JavaScript静态页面值传递之URL篇能过URL进行传值.把要传递的信息接在URL上.例子：参数传出页面Post.htm—&gt;
&lt;input type=”text” name=”username”&gt;&lt;input type=”text” name=”sex”&gt;&lt;input type=”button” value=”Post”&gt;&lt;script language=”javascript” &gt;function Post(){//单个值 Read.htm?username=baobao;//多全值 Read.htm?username=baobao&amp;sex=male;url = “Read.htm?username=”+escape(document.all.username.value);url += “&amp;sex=” + escape(document.all.sex.value);location.href=url;}&lt;/script&gt;
参数接收页面Read.htm—&gt;
&lt;script language=”javascript” &gt;/**————— Read.htm —————–* Request[key]* 功能:实现ASP的取得URL字符串,Request(“AAA”)* 参数:key,字符串.* 实例:alert(Request[“AAA”])*————— Request.htm —————–*/var url=location.search;var Request = new Object();if(url.indexOf(“?”)!=-1){var str = url.substr(1)　//去掉?号strs = str.split(“&amp;”);for(var i=0;i&lt;strs.length;i++){Request[strs[i ].split(“=”)[0]]=unescape(strs[ i].split(“=”)[1]);}}alert(Request[“username”])alert(Request[“sex”])&lt;/script&gt;&lt;script language=”JavaScript”&gt;&lt;!–function Request(strName){var strHref = “www.abc.com/index.htm?a=1&amp;b=1&amp;c=测试测试”;var intPos = strHref.indexOf(“?”);var strRight = strHref.substr(intPos + 1);var arrTmp = strRight.split(“&amp;”);for(var i = 0; i &lt; arrTmp.length; i++){var arrTemp = arrTmp[i ].split(“=”);if(arrTemp[0].toUpperCase() == strName.toUpperCase()) return arrTemp[1];}return “”;}alert(Request(“a”));alert(Request(“b”));alert(Request(“c”));//–&gt;&lt;/script&gt;&lt;script&gt;String.prototype.getQuery = function(name){var reg = new RegExp(“(^|&amp;)”+ name +”=([^&amp;]*)(&amp;|$)”);var r = this.substr(this.indexOf(“?”)+1).match(reg);if (r!=null) return unescape(r[2]); return null;}var str =”www.abc.com/index.htm?a=1&amp;b=1&amp;c=测试测试”;alert(str.getQuery(“a”));alert(str.getQuery(“b”));alert(str.getQuery(“c”));&lt;/script&gt;
优点:取值方便.可以跨域.缺点:值长度有限制
二：JavaScript静态页面值传递之Cookie篇Cookie是浏览器存储少量命名数据.它与某个特定的网页或网站关联在一起.Cookie用来给浏览器提供内存,以便脚本和服务器程序可以在一个页面中使用另一个页面的输入数据.
参数传出页面Post.htm—&gt;
&lt;input type=”text” name=”txt1″&gt;&lt;input type=”button” value=”Post”&gt;&lt;script language=”javascript” &gt;function setCookie(name,value){/**————— setCookie(name,value) —————–* setCookie(name,value)* 功能:设置得变量name的值* 参数:name,字符串;value,字符串.* 实例:setCookie(‘username’,’baobao’)*————— setCookie(name,value) —————–*/var Days = 30; //此 cookie 将被保存 30 天var exp　= new Date();exp.setTime(exp.getTime() + Days*24*60*60*1000);document.cookie = name + “=”+ escape (value) + “;expires=” + exp.toGMTString();location.href = “Read.htm”; //接收页面.}&lt;/script&gt;
参数接收页面Read.htm—&gt;
&lt;script language=”javascript” &gt;function getCookie(name){/**————— getCookie(name) —————–* getCookie(name)* 功能:取得变量name的值* 参数:name,字符串.* 实例:alert(getCookie(“baobao”));*————— getCookie(name) —————–*/var arr = document.cookie.match(new RegExp(“(^| )”+name+”=([^;]*)(;|$)”));if(arr !=null) return unescape(arr[2]); return null;}alert(getCookie(“baobao”));&lt;/script&gt;
优点:可以在同源内的任意网页内访问.生命期可以设置.缺点:值长度有限制.三：JavaScript静态页面值传递之Window.open篇这两窗口之间存在着关系.父窗口parent.htm打开子窗口son.htm子窗口可以通过window.opener指向父窗口.这样可以访问父窗口的对象.
&lt;input type=text name=maintext&gt;&lt;input type=button value=”Open”&gt;Read.htm&lt;script language=”javascript” &gt;//window.open打开的窗口.//利用opener指向父窗口.var parentText = window.opener.document.all.maintext.value;alert(parentText);&lt;/script&gt;
优点:取值方便.只要window.opener指向父窗口,就可以访问所有对象.不仅可以访问值,还可以访问父窗口的方法.值长度无限制.缺点:两窗口要存在着关系.就是利用window.open打开的窗口.不能跨域.
转载请注明：JS实现HTML静态页传值的方法 - 前端开发-武方博


