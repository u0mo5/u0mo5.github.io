Title: mysqlbinlog
Date: 1970-01-01 00:00:00
Modified: 1970-01-01 00:00:00
cat: mysql
Tags: 
Slug: 4119
Authors: u0mo5 
Summary: 

mysqlbinlog
相关命令：

mysqlbinlog支持下面的选项：---help，-？    显示帮助消息并退出。---database=db_name，-d db_name    只列出该数据库的条目(只用本地日志)。--force-read，-f    使用该选项，如果mysqlbinlog读它不能识别的二进制日志事件，它会打印警告，忽略该事件并继续。没有该选项，如果mysqlbinlog读到此类事件则停止。--hexdump，-H    在注释中显示日志的十六进制转储。该输出可以帮助复制过程中的调试。在MySQL 5.1.2中添加了该选项。--host=host_name，-h host_name    获取给定主机上的MySQL服务器的二进制日志。--local-load=path，-l pat    为指定目录中的LOAD DATA INFILE预处理本地临时文件。--offset=N，-o N    跳过前N个条目。--password[=password]，-p[password]    当连接服务器时使用的密码。如果使用短选项形式(-p)，选项和 密码之间不能有空格。如果在命令行中--password或-p选项后面没有 密码值，则提示输入一个密码。--port=port_num，-P port_num    用于连接远程服务器的TCP/IP端口号。--position=N，-j N    不赞成使用，应使用--start-position。--protocol={TCP | SOCKET | PIPE | -position    使用的连接协议。--read-from-remote-server，-R    从MySQL服务器读二进制日志。如果未给出该选项，任何连接参数选项将被忽略。这些选项是--host、--password、--port、--protocol、--socket和--user。--result-file=name, -r name    将输出指向给定的文件。--short-form，-s    只显示日志中包含的语句，不显示其它信息。--socket=path，-S path    用于连接的套接字文件。--start-datetime=datetime    从二进制日志中第1个日期时间等于或晚于datetime参量的事件开始读取。datetime值相对于运行mysqlbinlog的机器上的本地时区。该值格式应符合DATETIME或TIMESTAMP数据类型。例如：--stop-datetime=datetime    从二进制日志中第1个日期时间等于或晚于datetime参量的事件起停止读。关于datetime值的描述参见--start-datetime选项。该选项可以帮助及时恢复。--start-position=N    从二进制日志中第1个位置等于N参量时的事件开始读。--stop-position=N    从二进制日志中第1个位置等于和大于N参量时的事件起停止读。--to-last-logs，-t    在MySQL服务器中请求的二进制日志的结尾处不停止，而是继续打印直到最后一个二进制日志的结尾。如果将输出发送给同一台MySQL服务器，会导致无限循环。该选项要求--read-from-remote-server。--disable-logs-bin，-D    禁用二进制日志。如果使用--to-last-logs选项将输出发送给同一台MySQL服务器，可以避免无限循环。该选项在崩溃恢复时也很有用，可以避免复制已经记录的语句。注释：该选项要求有SUPER权限。--user=user_name，-u user_name    连接远程服务器时使用的MySQL用户名。--version，-V    显示版本信息并退出。
最后更新 2013-05-14 15:05:19合作编辑者如下：张映

有误，我来改正(0)
正确(0)
收藏(0)


0
例1
[root@BlackGhost mysql]# /usr/local/mysql/bin/mysqlbinlog --start-date="2010-09-29 18:00:00" 
--stop-date="2010-09-29 23:00:00" /var/lib/mysql/mysql-bin.000002 |mysql -u root -p    #根据时间查找后，还原

[root@BlackGhost mysql]# /usr/local/mysql/bin/mysqlbinlog -d test  /var/lib/mysql/mysql-bin.000002   #根据数据库名查找

[root@BlackGhost mysql]# /usr/local/mysql/bin/mysqlbinlog -h 192.1681.102  /var/lib/mysql/mysql-bin.000002  #根据数据库所在IP来查找

[root@BlackGhost mysql]# /usr/local/mysql/bin/mysqlbinlog -p 13306  /var/lib/mysql/mysql-bin.000002  #根据数据库端口来查找

[root@BlackGhost mysql]# /usr/local/mysql/bin/mysqlbinlog --server-id=1  /var/lib/mysql/mysql-bin.000002  #根据数据库的ID来查找

